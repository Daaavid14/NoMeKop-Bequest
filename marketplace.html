<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Marketpace</title>
  <link rel="stylesheet" href="css/marketplace.css" />
  <link rel="shortcut icon" href="backgrounds/pokemon-ball.png" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.8.1/dist/ethers.umd.min.js"></script>
</head>
<body>
<div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="/backgrounds/nomekop.png" alt="Pok√©mon NFT Logo" />
      </div>
      <nav>
        <ul>
          <a href="index.html"><li class=""> Home</li></a>
          <a href="#"><li> Marketplace</li></a>
          <a href="play.html"><li> Game</li></a>
          <li> Staking</li>
        </ul>
      </nav>
      <div class="support">
        <p>Support Center</p>
        <p>Whitepaper</p>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="top-bars">
          <h2>Marketplace</h2>

            <!-- Wrap both elements for hover consistency -->
            <div class="wallet-container">
                <button id="connectWalletBtn" class="wallet-btn">CONNECT WALLET</button>

                <div id="walletMenu" class="wallet-menu" aria-hidden="true">
                    <div class="wallet-menu-card">
                        <div class="wm-header">
                            <img src="" alt="Trainer Avatar" class="wm-avatar" id="wmAvatar" />
                            <div class="wm-info">
                            <h4 id="wmTrainerName">Trainer</h4>
                            <button class="wm-profile-btn">View Profile</button>
                        </div>
                    </div>

                    <div class="wm-address">
                        <span id="wmAddressShort">0x0000...0000</span>
                        <div class="wm-address-actions">
                            <button id="wmCopyBtn" class="wm-icon-btn" title="Copy Address">üìã</button>
                            <a id="wmExplorer" target="_blank" rel="noopener" class="wm-icon-btn" title="View on Explorer">üîó</a>
                        </div>
                    </div>

                    <div class="wm-balance">
                        <p id="wmBalance">‚Äî ETH | ‚Äî PKC</p>
                        <span id="wmNetwork" class="wm-network">‚Äî</span>
                    </div>

                    <div class="wm-stats">
                        <div class="wm-stat"><span>Pok√©mon</span><strong id="ownedNFTs">0</strong></div>
                        <div class="wm-stat"><span>Wins</span><strong id="battleWins">0</strong></div>
                        <div class="wm-stat"><span>Volume</span><strong id="volume">Œû 0</strong></div>
                    </div>

                    <div class="wm-links">
                        <a href="#" class="wm-link">üéí Inventory</a>
                        <a href="#" class="wm-link">‚öôÔ∏è Settings</a>
                        <a href="#" class="wm-link">üí¨ Support</a>
                    </div>

                    <button id="wmLogoutBtn" class="wm-logout">‚ûú] Log Out</button>
                    </div>
                </div>
            </div>
        </header>

      <!-- Marketplace Section (hidden by default) -->
    <section id="marketplaceSection">
      <div class="market-header"></div>

      <!-- Filter Row -->
      <div class="filter-bar">
        <input type="text" id="searchBox" placeholder="Search Nomekop" />

        <div class="rarity-filters">
          <button class="filter-btn" data-rarity="all">All</button>
          <button class="filter-btn" data-rarity="1">Common</button>
          <button class="filter-btn" data-rarity="2">Uncommon</button>
          <button class="filter-btn" data-rarity="3">Rare</button>
          <button class="filter-btn" data-rarity="4">Epic</button>
          <button class="filter-btn" data-rarity="5">Legendary</button>
        </div>

        <div class="type-filters">
          <button class="type-btn" data-type="all">All Types</button>
          <button class="type-btn" data-type="bug">
            <img src="assets/types/bug.png" alt="Bug" /> Bug
          </button>
          <button class="type-btn" data-type="dark">
            <img src="assets/types/dark.png" alt="Dark" /> Dark
          </button>
          <button class="type-btn" data-type="dragon">
            <img src="assets/types/dragon.png" alt="Dragon" /> Dragon
          </button>
          <button class="type-btn" data-type="electric">
            <img src="assets/types/electric.png" alt="Electric" /> Electric
          </button>
          <button class="type-btn" data-type="fairy">
            <img src="assets/types/fairy.png" alt="Fairy" /> Fairy
          </button>
          <button class="type-btn" data-type="fire">    
            <img src="assets/types/fire.png" alt="Fire" /> Fire
          </button>
          <button class="type-btn" data-type="flying">
            <img src="assets/types/flying.png" alt="flying" /> Flying
          </button>
          <button class="type-btn" data-type="ghost">
            <img src="assets/types/ghost.png" alt="Ghost" /> Ghost
          </button>
          <button class="type-btn" data-type="grass">
            <img src="assets/types/grass.png" alt="Grass" /> Grass
          </button>
          <button class="type-btn" data-type="ground">
            <img src="assets/types/ground.png" alt="Ground" /> Ground
          </button>
          <button class="type-btn" data-type="ice">
            <img src="assets/types/ice.png" alt="Ice" /> Ice
          </button>
          <button class="type-btn" data-type="normal">
            <img src="assets/types/normal.png" alt="Normal" /> Normal
          </button>
          <button class="type-btn" data-type="poison">
            <img src="assets/types/poison.png" alt="Poison" /> Poison
          </button>
          <button class="type-btn" data-type="psychic">
            <img src="assets/types/psychic.png" alt="Psychic" /> Psychic
          </button>
          <button class="type-btn" data-type="rock">
            <img src="assets/types/rock.png" alt="Rock" /> Rock
          </button>
          <button class="type-btn" data-type="steel">
            <img src="assets/types/steel.png" alt="Steel" /> Steel
          </button>
          <button class="type-btn" data-type="water">
            <img src="assets/types/water.png" alt="Water" /> Water
          </button>

          <div class="price-sort">
            <select id="priceFilter">
              <option value="default">Sort by ID</option>
              <option value="low">Price: Low - High</option>
              <option value="high">Price: High - Low</option>
            </select>
          </div>

        </div>
      </div>

      <div id="marketGrid" class="nft-grid">
      </div>
    </section>

      <!-- üß© Details Modal Template -->
      <div id="pokemonModal" class="details-modal" style="display:none;">
        <div class="details-content">
          <!-- Elemental Particles Layer -->
          <div id="typeParticles"></div>

          <span class="close-btn">&times;</span>

          <div class="modal-left">
            <img id="modalImage" class="details-img" alt="Pokemon Image" />
            <h2 id="modalName" class="modalName"></h2>
            <div class="types" id="modalTypes"></div>
            <div id="modalRarity" class="modalRarity"></div>

            <div class="stats">
              <h3>BASE STATS</h3>
              <div id="modalStats"></div>
            </div>
          </div>

          <div class="modal-right">
            <h3>SKILLS</h3>
            <div id="modalSkills" class="skills-grid"></div>
          </div>
        </div>
      </div>

        <!-- üßæ Sell NFT Modal -->
      <div id="sellModal" class="modal-overlay hidden">
        <div class="modal-content">
          <h2>List NFT for Sale</h2>
          <p>Enter the sale price (in ETH):</p>
          <input type="number" id="sellPriceInput" min="0" step="0.001" placeholder="0.01" />
          <div class="modal-buttons">
            <button id="confirmSellBtn" class="confirm-btn">Confirm</button>
            <button id="cancelSellBtn" class="cancel-btn">Cancel</button>
          </div>
        </div>
      </div>

    </main>
  </div>
  


  <script type="module" src="script/dashboard.js"></script>
  <script type="module" src="script/marketplace.js"></script>
</body>
</html>
